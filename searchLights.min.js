var searchLights=function(){"use strict";function validateFuncList(){return{selectType:validateSelectType,color:validateColor}}function validateSelectType(val){var isOk=/(^color$)|(^background$)/i.test(trim(val));return isOk?trim(val):defaulParamValues.selectType}function validateColor(val){var isOk=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(trim(val));return isOk?trim(val):defaulParamValues.color}function validateParams(params,validateFuncList,callback){var paramsArr=[];if("[object Object]"!==Object.prototype.toString.call(params))return!0;for(var name in params)params.hasOwnProperty(name)&&validateFuncList[name]&&paramsArr.push(name);callback(null,paramsArr)}function App(args,whiteListNameParams){for(var argName in validateFuncList())if(validateFuncList().hasOwnProperty(argName))if(whiteListNameParams.indexOf(argName)>=0){var argVal=args[argName];this[argName]=validateFuncList()[argName](argVal)}else this[argName]=validateFuncList()[argName]();return this.useLight=function(search,text){if(search.length<1)return text;search=clearInputText(search);var search=search.split(" "),search_sorted=search.sort(function(a,b){return a=a.toString(),b=b.toString(),b.length-a.length});return search_sorted.forEach(function(entry,counter){var reg_inpSearch="",inpSearch_sp_count=search_sorted[counter].length,inpSearch_sp_ch=search_sorted[counter].match(/[0-9]/);if(search_sorted[counter].length<3||inpSearch_sp_ch)reg_inpSearch=search_sorted[counter];else for(var p=0;inpSearch_sp_count>p;p++)reg_inpSearch+=search_sorted[counter].charAt(p)+"( )*";var reg_find=new RegExp(reg_inpSearch,"ig"),title_clear=text.replace(/\<span style=\"'+this.selectType+':\'+this.color+'\"\>|<\/span\>/g,""),inpSearch_find=title_clear.match(reg_find);if(null!=inpSearch_find){var noDuplicateArr=[];inpSearch_find.forEach(function(entry){noDuplicateArr.indexOf(entry)<0&&noDuplicateArr.push(entry)}),noDuplicateArr.forEach(function(entry){var regE=new RegExp("(?![^<]*>)"+entry,"g"),inpSearch_light="<!"+entry+"!>";text=text.replace(regE,inpSearch_light)})}}),text=text.replace(/<!/g,'<span style="'+this.selectType+":"+this.color+'">'),text=text.replace(/!>/g,"</span>"),text=text.replace(/<script([a-z0-9\-\'\"\=\/\s]*)\>.*?\<\/script\>/g,"")},this}var app={},defaulParamValues={color:"#00CE08",selectType:"text"},trim=function(){return String.prototype.trim?function(value){return"string"==typeof value?value.trim():value}:function(value){return"string"==typeof value?value.replace(/^\s\s*/,"").replace(/\s\s*$/,""):value}}(),clearInputText=function(){return function(text){var text_clear=text.replace(/\.|\#|\`|\~|\!|\@|\$|\%|\^|\&|\*|\'|\"|\,|\<|\>|\||\;|\?|\/|\\|\)|\(/g," ");return text_clear=text_clear.replace(/^\s+|\s+$/g,""),text_clear=text_clear.replace(/\s+/g," ")}}();return{init:function(args){var whiteListNameParams=[];return validateParams(args,validateFuncList(),function(err,data){err&&console.log(err),data&&(whiteListNameParams=data)}),whiteListNameParams.length>0?app=new App(args,whiteListNameParams):!0}}}(window,document);